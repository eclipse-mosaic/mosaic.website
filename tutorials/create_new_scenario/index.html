<!DOCTYPE html><html lang="en-us" >




  


<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Security-Policy" content="
    upgrade-insecure-requests;
    base-uri        'self';
    default-src     'none';
    object-src      'none';
    script-src      'self' 'unsafe-inline' 'unsafe-eval' https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev https://code.jquery.com https://cdn.jsdelivr.net https://maps.google.com https://cse.google.com ;
    worker-src      'self'                               https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev https://code.jquery.com https://cdn.jsdelivr.net https://maps.google.com https://cse.google.com ;
    style-src       'self' 'unsafe-inline'               https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev https://cdn.jsdelivr.net ;
    img-src         'self' data:                         https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev ;
    media-src       'self' data:                         https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev ;
    font-src        'self' data:                         https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev ;
    child-src                                            https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev https://*.dcaiti.com https://dcaiti.com https://cse.google.com ;
    connect-src                                          https://*.dcaiti.tu-berlin.de https://eclipse.dev https://www.eclipse.dev http://localhost:1313/ ws://localhost:1313/ ;
    manifest-src    'self'                               https://*.dcaiti.tu-berlin.de https://maps.google.com https://cse.google.com https://play.google.com ;
    frame-ancestors 'self';
    ">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
      
    
    
    
    
  
  

  <meta name="author" content="Fraunhofer FOKUS">

  
  
  
    
  
  <meta name="description" content="">

  
  <link rel="alternate" hreflang="en-us" href="https://www.eclipse.dev/mosaic/tutorials/create_new_scenario/">

  


  
  
  
  
  
  <meta name="theme-color" content="#68145C">
  

  
  
  
  <script src="/mosaic/js/mathjax-config.js"></script>
  

  
  
  
  
  
    <link rel="stylesheet" href="https://www.eclipse.dev/mosaic/css/thirdparty/academicons.min.css">
    <link rel="stylesheet" href="https://www.eclipse.dev/mosaic/css/thirdparty/font-awesome.all.min.css">
    <link rel="stylesheet" href="https://www.eclipse.dev/mosaic/css/thirdparty/jquery.fancybox.min.css">
  

  
  
  
    
  
  
    <link rel="stylesheet" href="https://www.eclipse.dev/mosaic/css/thirdparty/highlight.min.css">
  


  
    
      <link rel="stylesheet" href="https://www.eclipse.dev/mosaic/css/thirdparty/leaflet.css">
    
  

  

  
  
  
    
  
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
      
        <script src="https://www.eclipse.dev/mosaic/js/thirdparty/lazysizes.min.js"></script>
      
    
  
    

    
    

    
  
    

    
    

    
  
    

    
    

    
      
        <script src="https://www.eclipse.dev/mosaic/js/thirdparty/tex-chtml.min.js"></script>
      
    
  
    

    
    

    
  
    

    
    

    
  

  
  
  
  
  <link rel="stylesheet" href="/mosaic/css/academic.css">

  




  


  
  

  
  <link rel="alternate" href="/mosaic/tutorials/create_new_scenario/index.xml" type="application/rss+xml" title="Eclipse MOSAIC – A Multi-Domain and Multi-Scale Simulation Framework for Connected and Automated Mobility">
  

  <link rel="manifest" href="/mosaic/index.webmanifest">
  <link rel="icon" type="image/png" href="/mosaic/images/icon_hu6bdfb97c7e23190c70e41ca0e15a9fce_30436_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/mosaic/images/icon_hu6bdfb97c7e23190c70e41ca0e15a9fce_30436_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://www.eclipse.dev/mosaic/tutorials/create_new_scenario/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Eclipse MOSAIC – A Multi-Domain and Multi-Scale Simulation Framework for Connected and Automated Mobility">
  <meta property="og:url" content="https://www.eclipse.dev/mosaic/tutorials/create_new_scenario/">
  <meta property="og:title" content="Create a new Scenario | Eclipse MOSAIC – A Multi-Domain and Multi-Scale Simulation Framework for Connected and Automated Mobility">
  <meta property="og:description" content=""><meta property="og:image" content="https://www.eclipse.dev/mosaic/images/logo.svg">
  <meta property="twitter:image" content="https://www.eclipse.dev/mosaic/images/logo.svg"><meta property="og:locale" content="en-us">
  
    <meta property="og:updated_time" content="2023-08-11T00:00:00&#43;01:00">
  

  




  


  





  <title>Create a new Scenario | Eclipse MOSAIC – A Multi-Domain and Multi-Scale Simulation Framework for Connected and Automated Mobility</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class=" page-mosaic page-tutorials page-create_new_scenario ">

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-10 col-md-3">
          <div class="logo" style="background-image: url(/mosaic/img/logos/mosaic/EclipseMOSAIC-Logo-RGB-positiv.svg)"></div>
        </div>
        <div class="col-2 col-md-4 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  






  



  


<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    <div class="d-none d-lg-inline-flex">
      <a style="visibility:visible;" class="navbar-brand" href="/mosaic/"><img src="/mosaic/images/logo.svg" alt="Eclipse MOSAIC – A Multi-Domain and Multi-Scale Simulation Framework for Connected and Automated Mobility"></a>
    </div>


    
    <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-content-mobile" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/mosaic/"><img src="/mosaic/images/logo.svg" alt="Eclipse MOSAIC – A Multi-Domain and Multi-Scale Simulation Framework for Connected and Automated Mobility"></a>
    </div>
    

    
    
    <div id="navbar-content" class="navbar-collapse main-menu-item collapse justify-content-start">

    
    <ul class="navbar-nav d-md-inline-flex">
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link " href="/mosaic/news/"><span>News</span></a>
      </li>

      
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link " href="/mosaic/docs/"><span>Documentation</span></a>
      </li>

      
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link  active" href="/mosaic/tutorials/"><span>Tutorials</span></a>
      </li>

      
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link " href="/mosaic/workshops/"><span>Workshops</span></a>
      </li>

      
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link " href="/mosaic/download/"><span>Download</span></a>
      </li>

      
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link " href="/mosaic/commercial/"><span>Commercial</span></a>
      </li>

      
      

      

      
      
      
      
      

      
      
      
      
      
      

      <li class="nav-item">
        <a class="nav-link " href="/mosaic/community/"><span>Community</span></a>
      </li>

      
      

      

      
    </ul>
  </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      

      
      <li class="nav-item ">
        <a href="https://github.com/eclipse-mosaic/mosaic" target="blank">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
      </li>
      

      

    </ul>

    
    
    <div id="navbar-content-mobile" class="navbar-collapse main-menu-item collapse justify-content-start d-lg-none">

    
      <ul class="navbar-nav d-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/mosaic/news/"><span>News</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/mosaic/docs/"><span>Documentation</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/mosaic/tutorials/"><span>Tutorials</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/mosaic/workshops/"><span>Workshops</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/mosaic/download/"><span>Download</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/mosaic/commercial/"><span>Commercial</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/mosaic/community/"><span>Community</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

  </div>
</nav>


  












  

  
  
  
    
  
<div class="universal-wrapper pt-3">
  <h1>Create a new Scenario</h1>

  

  
</div>



<div class="universal-wrapper">
  
  <div class="article-style"><p>In this tutorial, we will provide all the information needed to create a new Eclipse MOSAIC scenario from scratch with the help of the
<strong>Scenario-Convert</strong> tool.</p>
<div class="alert alert-learning_objectives">
  <div>
  <h3>Learning Objectives</h3>
<p>With this tutorial you learn&hellip;</p>
<ul>
<li>
<p>How to create new scenarios.</p>
</li>
<li>
<p>How to use Scenario-Convert and with OSM-files.</p>
</li>
<li>
<p>How to clean map-data before generating the simulation map.</p>
</li>
<li>
<p>How to import routes into your scenario.</p>
</div>
</li>
</ul>
</div>
<ol>
<li>Use the Scenario-Convert tool to create a custom simulation scenario.
This scenario includes the road network, vehicles and their routes through the network, locations of road side units, communication
properties, and the like.</li>
<li>Implement application models to be integrated with the 





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/simulators/application_simulator/">Application Simulator</a>.






  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/develop_applications/">Applications are developed</a> in JAVA and implement pre-defined interface classes allowing them to have access to entity specific functions, e.g.
for exchanging V2X messages, influencing the vehicle&rsquo;s behavior, or controlling road infrastructure.</li>
<li>Deploy your developed applications onto simulation entities using the 





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/simulators/application_mapping/">Mapping Configuration</a>. Each entity, e.g. vehicle, server, or
RSU, is mapped with an application model developed in the previous step.</li>
<li>Run your simulation and evaluate them with the help of pre-bundled 





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/visualization/filevis/">Output Generators</a>.</li>
</ol>
<h2 id="scenario-convert">Scenario-Convert</h2>
<p>For creating new scenarios, but also for importing and exporting data from
external sources like OpenStreetMap, SUMO, etc. into your existing scenarios, we provide the tool <strong>Scenario-Convert</strong>.</p>
<div class="alert alert-extended">
  <span class="extended-icon" style="background-image: url(/mosaic/img/alert-extended.svg)"></span>
  <div>
<p><strong>Scenario-Convert</strong> is part of <strong>





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/download/#overview">MOSAIC Extended</a></strong>.</p>
<p>However, you can use Scenario-Convert <strong>for free</strong> to generate scenarios which are executable with Eclipse MOSAIC. <strong>




<a href="https://www.dcaiti.tu-berlin.de/research/simulation/download/" target="_blank" rel="noopener">Get it here</a>.</strong></p>
  </div>
</div>


    

<a class="mosaic-btn mosaic-btn-primary" href="https://www.dcaiti.tu-berlin.de/research/simulation/download/" title="Download Scenario-Convert from DCAITI mirror"><i class="fas fa-download"></i>Download Scenario-Convert from DCAITI mirror</a>

<ol>
<li><strong>Download the <code>Scenario-Convert-25.2.zip/tar.gz</code> bundle from the mirror above.</strong></li>
<li>Extract the package to an arbitrary path. It is recommended to extract the package in the very same directory as MOSAIC (<code>&lt;mosaic-root&gt;</code>).</li>
<li>Use the call <code>Scenario-Convert.bat/sh</code> on the command line to execute the tool.</li>
</ol>
<p><code>Scenario-Convert</code> will create a database, which is the basis for all map-related tasks performed by Eclipse MOSAIC (e.g. navigation,
route calculation&hellip;).<br>
Based on a MOSAIC database, Scenario-Convert can export the data to SUMO-conform formats.
Furthermore, one can choose whether to use routes generated by <code>Scenario-Convert</code>, use existing
routes or build own routes via route generation tools (e.g., DUAROUTER by SUMO).</p>
<p>This chapter intends to highlight the most common workflows for the work with <code>Scenario-Convert</code>.
We will be using 





  
  

    

    
    

    
    
      
        
          
            
            
            
          
        
      
    

    
  

<a href="/mosaic/tutorials/create_new_scenario/files/steglitz.osm" target="_blank" rel="noopener">steglitz.osm</a> OSM-file for most of the
use cases. It is best to save <code>steglitz.osm</code> in the same directory where <code>Scenario-Convert</code> is located.
Feel free to follow along with the steps to get a better understanding on how the <code>Scenario-Convert</code>-script functions.</p>
<div class="alert alert-note">
  <div>
<p>





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/scenarios/scenario_convert/">Here</a> you can find the complete Scenario-Convert reference.</p>
  </div>
</div>















<figure id="figure-osm-file-of-steglitz">


  <a data-fancybox="" href="images/osm_uncleaned.png" data-caption="OSM-File of Steglitz">


  <img src="images/osm_uncleaned.png" alt=""  >
</a>


  
  
  <figcaption data-pre="Figure " data-post=":" class="numbered">
    OSM-File of Steglitz
  </figcaption>


</figure>

<h2 id="creating-a-complete-mosaic-scenario-from-an-osm-file-with-one-command">Creating a complete MOSAIC-scenario from an OSM-file with one command</h2>
<p>This is the most straightforward approach to create a scenario from your OSM-file.
We will use the command <code>scenario create</code> for doing so.
Let&rsquo;s start off by showing you what a complete call could look like:</p>
<pre><code class="language-bash">scenario-convert.sh scenario create steglitz.osm
</code></pre>
<div class="alert alert-note">
  <div>
<p>In this section, we use the scenario name <code>steglitz.*</code> as a placeholder for <code>path/to/steglitz.*</code>.</p>
  </div>
</div>
<p>Please be aware that the scenario generated with the call above contains no routes yet, see 





  
  

<a href="#importing-routes-to-your-scenario">Import Routes</a> for more details.
The complete call achieves a couple of things. First, the script is going to create a SQLite-database,
which is used by Eclipse MOSAIC. Furthermore, a directory will be created, which should look like this:</p>
<pre><code class="language-plaintext">└─ &lt;working-directory&gt;
   └─ steglitz
       ├─ steglitz.osm
       ├─ application
       |  └─ steglitz.db
       ├─ cell
       |  ├─ cell_config.json
       |  ├─ network.json
       |  └─ regions.json
       ├─ environment
       |  └─ environment_config.json
       ├─ mapping
       |  └─ mapping_config.json
       ├─ ns3
       |  ├─ ns3_config.json
       |  └─ ns3_federate_config.xml
       ├─ omnetpp
       |  ├─ omnetpp.ini      
       |  └─ omnetpp_config.json
       ├─ output
       |  └─ output_config.xml
       ├─ phabmacs
       |  └─ phabmacs_config.json
       ├─ sns
       |  └─ sns_config.json
       ├─ sumo
       |  ├─ steglitz.net.xml
       |  └─ steglitz.sumocfg
       └─ scenario_config.json .................. General configuration of the simulation scenario
</code></pre>
<p>Let&rsquo;s walk through all these files:</p>
<ol>
<li>First the <code>steglitz.db</code> will be created using the <code>steglitz.osm</code>-file.</li>
<li>The <code>steglitz.db</code> will be used to create <code>steglitz.con.xml</code>, <code>steglitz.edg.xml</code> and <code>steglitz.nod.xml</code>, which are files used by SUMO.</li>
<li>




<a href="https://sumo.dlr.de/wiki/NETCONVERT" target="_blank" rel="noopener">SUMO Netconvert</a> is used to create <code>steglitz.net.xml</code>, which is a 




<a href="https://sumo.dlr.de/wiki/Networks/SUMO_Road_Networks" target="_blank" rel="noopener">network representation</a> in SUMO.</li>
<li>Now the SUMO-configuration <code>steglitz.sumocfg</code> is written.</li>
<li>Afterward, the <code>mapping_config.json</code> and <code>scenario_config.json</code> are created and all files are moved to the right place.
In the <code>scenario_config.json</code> values like the center coordinate will automatically be set using data from the SUMO related files.</li>
</ol>
<p>While this is technically sufficient to start working on your scenario, such as 





  
  

<a href="#importing-routes-to-your-scenario">importing routes</a> to it, there are a couple of other things
you can do to achieve better results.</p>
<h3 id="clean-the-osm-file-using-osmosis">Clean the OSM-file using Osmosis</h3>
<p>By default, Osmosis will be used to create a new OSM-file with the suffix <code>_cleaned</code>. The created
file will contain much less clutter and usually is better suited for simulation purposes.
Check the images below to see the difference the clean-up process can make.</p>
<div class="row">
    <div class="col-6">
        














<figure id="figure-uncleaned-osm-file">


  <a data-fancybox="" href="images/osm_uncleaned.png" data-caption="Uncleaned OSM-file">


  <img src="images/osm_uncleaned.png" alt=""  >
</a>


  
  
  <figcaption data-pre="Figure " data-post=":" class="numbered">
    Uncleaned OSM-file
  </figcaption>


</figure>

    </div>
    <div class="col-6">
        














<figure id="figure-cleaned-osm-file">


  <a data-fancybox="" href="images/osm_cleaned.png" data-caption="Cleaned OSM-file">


  <img src="images/osm_cleaned.png" alt=""  >
</a>


  
  
  <figcaption data-pre="Figure " data-post=":" class="numbered">
    Cleaned OSM-file
  </figcaption>


</figure>

    </div>
</div>
<div class="row">
    <div class="col-6">
        














<figure id="figure-uncleaned-net-file">


  <a data-fancybox="" href="images/netfile_uncleaned.png" data-caption="Uncleaned Net-file">


  <img src="images/netfile_uncleaned.png" alt=""  >
</a>


  
  
  <figcaption data-pre="Figure " data-post=":" class="numbered">
    Uncleaned Net-file
  </figcaption>


</figure>

    </div>
    <div class="col-6">
        














<figure id="figure-cleaned-net-file">


  <a data-fancybox="" href="images/netfile_cleaned.png" data-caption="Cleaned Net-file">


  <img src="images/netfile_cleaned.png" alt=""  >
</a>


  
  
  <figcaption data-pre="Figure " data-post=":" class="numbered">
    Cleaned Net-file
  </figcaption>


</figure>

    </div>
</div>
<p>To avoid removing ways from the OSM-file, please use the option &ldquo;skip-reduce-ways&rdquo;.</p>
<pre><code class="language-bash">scenario-convert.sh scenario create steglitz.osm --skip-reduce-ways
</code></pre>
<h3 id="generating-routes">Generating Routes</h3>
<p>The Scenario-Convert also offers the option <code>--generate-routes</code>, which will generate a large set of routes for the scenario.
With that option, all dead-ends of the scenario will be identified and used to generate routes from each dead-end to all other dead-ends.
For large scenarios, this approach is often too much and should be avoided.
Instead, for a more detailed control over the route generation process, the separate command <code>route generate</code> shall be used, which is explained later.</p>
<pre><code class="language-bash">scenario-convert.sh scenario create --generate-routes
</code></pre>
<p>Note: If the scenario already exists the command will fail. You need to delete the previously generated <code>steglitz</code> directory beforehand.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This wraps up one of the main workflows with the Scenario-Convert-script.
A quick reminder of what we achieved:</p>
<ul>
<li>Cleaned up an OSM-file to only contain relevant data.</li>
<li>Converted that OSM-file to formats that Eclipse MOSAIC/SUMO can handle.</li>
<li>Created the project structure for a scenario.</li>
<li>Calculated a set of initial routes.</li>
</ul>
<p>With all of this you can now start further developing your scenario. For a more detailed description on the next steps
please have a look at 





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/scenarios/scenario_configuration/">Additional Scenario Configuration</a> and






  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/develop_applications/">Application Development</a>.</p>
<p>You can now move your <code>steglitz</code> directory to <code>/scenarios</code> and test it by running
<code>./mosaic.sh -s steglitz</code> on Linux/macOS or <code>.\mosaic.bat -s steglitz</code> on Windows.</p>
<div class="alert alert-note">
  <div>
<p>If you&rsquo;ve reached this part of the tutorial, you finished the main part of this tutorial.
Below we&rsquo;ll introduce how <code>scenario-convert</code> can be utilized to import routes instead of generating them.</p>
  </div>
</div>
<h2 id="create-a-mosaic-scenario-with-more-control">Create a MOSAIC-Scenario With More Control</h2>
<p>In the previous steps, we explained how a complete MOSAIC scenario can be generated by using one single command using Scenario-Convert.
However, to gain more control over the scenario generation process, this process can be sub-divided in individual steps:</p>
<ol>
<li>Create an initial scenario database</li>
<li>Generate or import routes</li>
<li>Convert the scenario database to a MOSAIC scenario</li>
</ol>
<h3 id="generate-an-initial-scenario-database-from-osm-file">Generate an Initial Scenario Database from OSM file</h3>
<p>We&rsquo;ll start off by solely creating the database and applying OSMOSIS with the following command:</p>
<pre><code class="language-bash">scenario-convert.sh database create steglitz.osm
</code></pre>
<p>The directory should look like this:</p>
<pre><code class="language-plaintext">└─ &lt;working-directory&gt;
   ├─ steglitz.db
   ├─ steglitz.osm
   └─ steglitz_cleaned.osm
</code></pre>
<h3 id="generate-additional-routes">Generate Additional Routes</h3>
<p>In order to generate routes, Scenario-Convert offers the <code>route generate</code> command to calculate routes from one point to another.</p>
<pre><code class="language-bash">scenario-convert.sh route generate steglitz.db --from 52.4551693,13.3193474 --to 52.4643101,13.3206834 --max 3
</code></pre>
<p>This will calculate up to three routes between the two given coordinates.
Alternatively, instead of coordinates, node IDs can be given:</p>
<pre><code class="language-bash">scenario-convert.sh route generate steglitz.db --from 267350668 --route-end-node-id 313139970 --max 3
</code></pre>
<p>All routes are automatically added to the database right after route generation.
If the routes should <em>not</em> be added but instead exported to a SUMO route file right after route generation, use the following options:</p>
<pre><code class="language-bash">scenario-convert.sh route generate steglitz.db --from 267350668 --route-end-node-id 313139970 --max 3 --dry-run --export
</code></pre>
<h3 id="importing-a-route-file">Importing a Route-file</h3>
<p>Often times, your routes won&rsquo;t be created by the Scenario-Convert tool.
Instead, they will have to be imported from another source.
As an example for this use case, we generated some routes for the steglitz-scenario using SUMO&rsquo;s





<a href="http://sumo.dlr.de/wiki/DUAROUTER" target="_blank" rel="noopener">duarouter</a>, which you can find 





  
  

    

    
    

    
    
      
        
          
            
            
            
          
        
      
    

    
  

<a href="/mosaic/tutorials/create_new_scenario/files/steglitz.rou.xml" target="_blank" rel="noopener">here</a>.</p>
<p>Let&rsquo;s import these routes into the database.<br>
We achieve this by calling:</p>
<pre><code class="language-bash">Scenario-Convert.sh route import steglitz.db steglitz.rou.xml
</code></pre>
<p>Now all new routes are imported into our database. The following image shows a visualization of one of
the created routes.</p>















<figure id="figure-visualization-of-one-of-the-routes">


  <a data-fancybox="" href="images/steglitz_route.png" data-caption="Visualization of one of the routes">


  <img src="images/steglitz_route.png" alt=""  >
</a>


  
  
  <figcaption data-pre="Figure " data-post=":" class="numbered">
    Visualization of one of the routes
  </figcaption>


</figure>

<h3 id="creating-the-scenario">Creating the scenario</h3>
<p>The final step is to create the scenario from the files we created so far.</p>
<pre><code class="language-bash">Scenario-Convert.sh scenario create steglitz.db
</code></pre>
<p>Instead of copying the SUMO-files, this will generate all necessary files and move them into an Eclipse MOSAIC-conform
folder structure:</p>
<pre><code class="language-plaintext">└─ &lt;working-directory&gt;
   ├─ steglitz.osm
   └─ steglitz
      ├─ application
      |  └─ steglitz.db
      ├─ mapping
      |  └─ mapping_config.json
      ├─ sumo
      |  ├─ steglitz.net.xml
      |  └─ steglitz.sumocfg
      └─ scenario_config.json
</code></pre>
<p>As you can see the resulting folder structure looks just like the final output from the first workflow described.</p>
<h3 id="conclusion-1">Conclusion</h3>
<p>You should now know how you can manually add routes to your scenario and have a deeper understanding of the way that
some of the script parameters work.</p>
<p>For more information, see 





  
  

    

    
    
      
      
      
      
    

    
    

    
  

<a href="/mosaic/docs/scenarios/scenario_convert/">Scenario-Convert documentation</a> for all commands and options.</p>
<h3 id="attached-files">Attached Files</h3>
<p>A list of all attached files in this chapter:</p>
<ul>
<li>





  
  

    

    
    

    
    
      
        
          
            
            
            
          
        
      
    

    
  

<a href="/mosaic/tutorials/create_new_scenario/files/steglitz.osm" target="_blank" rel="noopener">Steglitz OSM-file</a></li>
<li>





  
  

    

    
    

    
    
      
        
          
            
            
            
          
        
      
    

    
  

<a href="/mosaic/tutorials/create_new_scenario/files/steglitz.rou.xml" target="_blank" rel="noopener">Steglitz Route-file</a></li>
</ul>
</div>
  

  
  

  

  
  <div class="post-nav prev-next-pages col-12">
    <div class="row">

      
      <div class="post-nav-item col-12 col-md-6">
        
          <div class="meta-nav">Previous</div>
          <a href="/mosaic/tutorials/barnim_develop_applications/" rel="next">Barnim: Develop Applications</a>
        
      </div>

      
      <div class="post-nav-item col-12 col-md-6 align-self-end">
        
          <div class="meta-nav">Next</div>
          <a href="/mosaic/tutorials/tiergarten_communication/" rel="next">Tiergarten: Communication</a>
        
      </div>

    </div>
  </div>


  

</div>

      

    
    
    

    

    
      <script src="https://www.eclipse.dev/mosaic/js/thirdparty/jquery.min.js"></script>
      <script src="https://www.eclipse.dev/mosaic/js/thirdparty/popper.min.js"></script>
      <script src="https://www.eclipse.dev/mosaic/js/thirdparty/imagesloaded.pkgd.min.js"></script>
      <script src="https://www.eclipse.dev/mosaic/js/thirdparty/isotope.pkgd.min.js"></script>
      <script src="https://www.eclipse.dev/mosaic/js/thirdparty/jquery.fancybox.min.js"></script>

      
        <script src="https://www.eclipse.dev/mosaic/js/thirdparty/mermaid.min.js"></script>
      

      
        
        <script src="https://www.eclipse.dev/mosaic/js/thirdparty/highlight.min.js"></script>
        
          <script src="https://www.eclipse.dev/mosaic/js/thirdparty/highlight-java.min.js"></script>
        
          <script src="https://www.eclipse.dev/mosaic/js/thirdparty/highlight-json.min.js"></script>
        
          <script src="https://www.eclipse.dev/mosaic/js/thirdparty/highlight-xml.min.js"></script>
        
          <script src="https://www.eclipse.dev/mosaic/js/thirdparty/highlight-shell.min.js"></script>
        
          <script src="https://www.eclipse.dev/mosaic/js/thirdparty/highlight-dos.min.js"></script>
        
      
    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/mosaic/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    
    
    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
      
        <script src="https://www.eclipse.dev/mosaic/js/thirdparty/fuse.min.js"></script>
        <script src="https://www.eclipse.dev/mosaic/js/thirdparty/jquery.mark.min.js"></script>
      
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script type="application/javascript" src="/mosaic/js/academic.min.27a6ec9020f3e0fadc470c962ab49eb9.js"></script>

    

<script type="application/javascript" src="/mosaic/js/mosaic-wg-cards.js"></script>
<script type="application/javascript" src="/mosaic/js/mosaic-docs.js"></script>




    <script>
      var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
      tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new window.bootstrap.Tooltip(tooltipTriggerEl)
      })
    </script>


  
  
  <div class="footer-wrap">
    <div class="container">
      <footer class="site-footer">
  <div class="row">
  
    
      <div class="col-sm-4 mb-3 mb-md-0">
        <b>Eclipse MOSAIC</b>
        
          <ul>
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/download/" title="Download Eclipse MOSAIC" >
                    
                      Download Eclipse MOSAIC
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/docs/" title="Documentation" >
                    
                      Documentation
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/tutorials/" title="Tutorials" >
                    
                      Tutorials
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/workshops/" title="Workshops" >
                    
                      Workshops
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/about/#license" title="License" >
                    
                      License
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/community/#projects" title="Projects" >
                    
                      Projects
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/publications/" title="Publications" >
                    
                      Publications
                    
                    
                  </a>
                </li>
              
            
          </ul>
        
      </div>
    
  
    
      <div class="col-sm-4 mb-3 mb-md-0">
        <b>Community</b>
        
          <ul>
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/community/" title="Eclipse MOSAIC Community" >
                    
                      Eclipse MOSAIC Community
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/contribution/" title="How to contribute" >
                    
                      How to contribute
                    
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                    
                    
                  
                
                <li>
                  <a href="https://github.com/eclipse-mosaic/mosaic" title="Github"  target="_blank" rel="noopener">
                    
                      Github
                    
                    
                      <i class="fa fa-external-link-alt" aria-hidden="true"></i>
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                
                <li>
                  <a href="/mosaic/get_in_contact/" title="Contact &amp; Mailing list" >
                    
                      Contact & Mailing list
                    
                    
                  </a>
                </li>
              
            
          </ul>
        
      </div>
    
  
    
      <div class="col-sm-4 mb-3 mb-md-0">
        <b>Eclipse Foundation</b>
        
          <ul>
            
              
                
                
                
                  
                    
                    
                  
                
                <li>
                  <a href="https://www.eclipse.org/" title="About Eclipse Foundation"  target="_blank" rel="noopener">
                    
                      About Eclipse Foundation
                    
                    
                      <i class="fa fa-external-link-alt" aria-hidden="true"></i>
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                    
                    
                  
                
                <li>
                  <a href="https://www.eclipse.org/legal/privacy.php" title="Privacy Policy"  target="_blank" rel="noopener">
                    
                      Privacy Policy
                    
                    
                      <i class="fa fa-external-link-alt" aria-hidden="true"></i>
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                    
                    
                  
                
                <li>
                  <a href="https://www.eclipse.org/legal/termsofuse.php" title="Website terms of use"  target="_blank" rel="noopener">
                    
                      Website terms of use
                    
                    
                      <i class="fa fa-external-link-alt" aria-hidden="true"></i>
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                    
                    
                  
                
                <li>
                  <a href="https://www.eclipse.org/legal/copyright.php" title="Copyright"  target="_blank" rel="noopener">
                    
                      Copyright
                    
                    
                      <i class="fa fa-external-link-alt" aria-hidden="true"></i>
                    
                  </a>
                </li>
              
            
              
                
                
                
                  
                    
                    
                  
                
                <li>
                  <a href="https://www.eclipse.org/legal" title="Legal"  target="_blank" rel="noopener">
                    
                      Legal
                    
                    
                      <i class="fa fa-external-link-alt" aria-hidden="true"></i>
                    
                  </a>
                </li>
              
            
          </ul>
        
      </div>
    
  











  </div>
  <div class="row justify-content-center mt-3 position-relative">
    <p class="powered-by text-center font-italic mb-0 pb-0">
      Powered by the
      <a href="https://themes.gohugo.io/themes/starter-hugo-academic" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.
      <br>
      Header image &#169; fanjianhua/ iStock
      <br>
      Website built on 15 Dec 2025, 15:52 UTC
    </p>
    
      <span class="position-absolute mr-3 mr-md-0" aria-hidden="true" style="right: 0;">
        <a href="#" class="back-to-top">
          <span class="button_icon">
            <i class="fas fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>
    
  </div>
</footer>


<script>
  var _paq = window._paq = window._paq || [];
   
  _paq.push(["setExcludedQueryParams", ["debug","dry","clean","nomaster"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://www.dcaiti.tu-berlin.de/m/";
    _paq.push(['setTrackerUrl', u+'m.php']);
    _paq.push(['setSiteId', 'm4o1kOykpy']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'m.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<img src="https://www.dcaiti.tu-berlin.de/m/m.php?idsite=m4o1kOykpy&amp;rec=1" style="border:0;display:none;" alt="" />



    </div>
  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
